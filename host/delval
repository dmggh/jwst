from __future__ import unicode_literals
from __future__ import print_function
from __future__ import division
from __future__ import absolute_import
from future import standard_library
standard_library.install_aliases()
from builtins import *
#! /usr/bin/env pysh
#-*-python-*-

from astropy.io import fits as pyfits
from crds import pysh, log

pysh.usage("<filename> <keywords...> ", 2)

filename = sys.argv[1]
keywords = sys.argv[2:]
extension = 0

hdulist = pyfits.open(filename, mode="update", do_not_scale_image_data=True)

for keyword in keywords:
   with log.error_on_exception("Error deleting", repr(keyword)):
      del hdulist[0].header[keyword]
      log.info("Deleted", repr(keyword))

hdulist.close()
