{% extends "base.html" %}

{% load stdtags %}

{% block head_additions %}
    {% include "fileupload/picture_form_head_additions.html" %}
{% endblock %}

{% block head_overrides %}
    {% include "jpoll/jpoll_head_overrides.html" %}
{% endblock %}

{% block column1 %}
    <h2>Certify Files</h2>
    {% include "select_files.html" %}

    <form method="post" action="/certify/" enctype="multipart/form-data"
        id="certify_form" class="jpoll_ajax_html_form"
        onsubmit="crds.setup_status_display('Certification Status'); return true;"> 
      {% csrf_token %}

      {% include "comparison_context.html" %}

      <br/>
      <br/>
      <input type="submit" value="Certify Files">
    </form>
{% endblock column1 %}

{% block help %}

<p><b>Certify Files</b> runs the same checks required for submission and
presents any errors as well as provenance information for review.

{% include "comparison_context_help.html" %}

{% include "select_files_help.html" %}

<p><p>NOTE: If you have installed CRDS,  you can certify files locally like 
this:
<pre>% python -m crds.certify ./hst_acs_biasfile_0001.rmap</pre> 
<pre>% python -m crds.certify --comparison-context=hst.pmap  --dump-provenance ./myfile.fits</pre>

<p><p>WARNING: certification of context files,  pmaps and imaps, is a transitive 
check so it may certify many mappings and can be slow.

{% endblock help %}
