{% extends "base.html" %}

{% block contents_both %}

<h2>Login</h2>

<form method="post" action="/login/"  onsubmit="crds.validate_login();" >
{% csrf_token %}

<table>  {#  style="margin-left: 2em;"> #}

<tr>
    <td style="font-size: 1.3em; text-align: right; color: darkblue;">{{ form.username.label_tag }}</td>
    <td>{{ form.username }}</td>
</tr>
<tr>
    <td  style="font-size: 1.3em; text-align: right; color: darkblue;
    font-weight: bold;">Lock Instrument:</td> 
    <td> {% include "select_instrument.html" %} </td>
</tr>
<tr>
    <td style="font-size: 1.3em; text-align: right; color: darkblue;">{{ form.password.label_tag }}</td>
    <td>{{ form.password }}</td>
</tr>
</table>

<br/>
<input class="btn btn-primary btn-lg" type="submit" value="Login"/>  

<br/>
<br/>
<br/>
<div class="panel panel-warning">
    <div class="panel-heading">WARNING:</div> 
    <div class="panel-body">
        Any pending submissions in other sessions will be automatically cancelled.
    </div>
</div>

<input type="hidden" name="next" value="{{ next }}" />
</form>

{% if form.errors %}
<div id="error_login" class="error">
Username or password invalid,  please try again.
</div>
{% endif %}

<script type="application/javascript">
    crds.validate_login = function () {
        crds.set_info_box({text: "Acquiring instrument lock.  This may take a few seconds...",  css: {color: "green"} });
        return true;
    }
</script>

{% endblock contents_both %}

