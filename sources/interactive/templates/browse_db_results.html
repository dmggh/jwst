{% extends "table_base.html" %}

{% load stdtags %}

{% block contents %}

<h2>Browse Database</h2>
{% accordion "Filters" %}
    {% if filters %}
       <table border="1">
       <tr><th>filter</th><th>value</th></tr>
        {% for filter_name, filter_value in filters.items %}
        <tr>
            <td>{{filter_name}}</td>
            <td>{{filter_value}}</td>
        </tr>
        {% endfor %}
       </table>
    {% else %}
       <p>No filters.</p>
    {% endif %}
{% endaccordion %}

<h3>Database Entries</h3>
<table id="crds_db_table"></table>

<script type="text/javascript">
    $("#contents").hide();
    var dt_init = {{table_json|safe}};
    dt_init.aLengthMenu = [[100, 200, 500, 1000, 2000, 5000, -1], [100, 200, 500, 1000, 2000, 5000, "All"]];
    dt_init.iDisplayLength = 200;
    $("#crds_db_table").dataTable(dt_init);
    $("#crds_db_table").css({"font-size":"0.8em"});
    $(function () {
        $("#contents").show();
    });
</script>

{% endblock contents %}

{% block body_trailer %}
{% endblock body_trailer %}

