{% extends "base.html" %}

{% block head_overrides %}
    <link type="text/css" rel="stylesheet" href="/static/crds_tables.css" />
    <link type="text/css" rel="stylesheet" href="/static/jquery.dataTables.css" />
    <script type="text/javascript" language="javascript" src="/static/jquery.dataTables.min.js"></script>
{% endblock head_overrides %}

{% load stdtags %}

{% block contents %}

<h2>Browse Database</h2>
{% accordion "Filters" %}
    {% if filters %}
       <table border="1">
       <tr><th>filter</th><th>value</th></tr>
        {% for filter_name, filter_value in filters.items %}
        <tr>
            <td>{{filter_name}}</td>
            <td>{{filter_value}}</td>
        </tr>
        {% endfor %}
       </table>
    {% else %}
       <p>No filters.</p>
    {% endif %}
{% endaccordion %}

<h3>Database Entries</h3>
<script type="text/javascript">
    $("#contents").hide();
</script>

{{table|safe}}

<script type="text/javascript">
    $(function () {
        $("#contents").hide();
        var table = $("#crds_files_table");
        table.dataTable({
            "aLengthMenu": [[100, 200, 500, 1000, 2000, -1], [100, 200, 500, 1000, 2000, "All"]],
            "iDisplayLength" : 100,
        });
        table.css({"font-size":"0.8em"});
        table.show();
        $("#contents").show();
    });
</script>

{% endblock contents %}
