{% load stdtags %}

{% if include_diff %}
    {% include "diff_col_header.html" %}
{% endif %}
 
<div id="context_history" style="background-color: #EEEEEE;">
    <table border="1" width="100%">
        <thead>
            <tr>
                <th width="10%" align="center" class="label">Start Date</th>
                <th width="10%" align="center" class="label">Context</th>
                <th width="10%" align="center" class="label">Status</th>
                <th width="50%" align="center" class="label">Description</th>
                {%if include_diff %}
                    <th width="5%" align="center"><input type='submit' id="diff_button" value="diff" /></th>
                {% endif %}
            </tr>
        </thead>
        <tbody>
        {% for hist in history_tuples %}    {# ( history_rec,  context_fileblob) #}
            <tr>
                <td align="center">{{hist.0.start_date|days}}</td>
                <td align="center"><a href="/context_table/{{hist.0.context}}">{{hist.0.context}}</a></td>
                <td align="center" class="{{hist.1.status_class}}">{{hist.1.status}}</td>
                <td align="left">{{hist.0.description}}</td>
                {% if include_diff %}
                    <td align="center">
                        <input type="checkbox" name="diff_file" value="{{hist.0.context}}" />
                        {% if is_authenticated and user|in_group:"edit_context_history" %}
                            <a href="/edit_context_history/{{hist.0.id}}/{{hist.0.context}}">*</a>  {#  style="text-decoration:none" #}
                        {% endif %}
                    </td>
                {% endif %}
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>

{% if include_diff %}
    {% include "diff_col_trailer.html" %}
{% endif %}

