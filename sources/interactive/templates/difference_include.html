{% load stdtags %}

    {% include "accordion.html" %}

    {% if map_text_diff_items %}
    
        {% autoescape off %}

            <h3>Mapping Logical Differences</h3>
            {% accordion "Logical Diff" logical_diffs.0.0 %}
                <table border='1' pad='1'>
                    {% for ldiff in logical_diffs %}
                    <tr>
                            {% for tup in ldiff|slice:"1:" %}
                                <td> {{tup}} </td>
                            {% endfor %}
                    </tr>
                    {% endfor %}
                </table>
            {% endaccordion %}
            
            <h3>Mapping Text Differences</h3>
            {% for tdiff in map_text_diff_items %}
                {% accordion "Text Diff" tdiff.0 %}
                    <pre class="program">{{tdiff.1}}</pre>
                {% endaccordion %}
            {% endfor %}
    
        {% endautoescape %}

    {% else %}
    
        <pre class="program">{{difference|safe}}</pre>        
    
    {% endif %}
