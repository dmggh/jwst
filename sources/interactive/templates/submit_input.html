{% extends "base.html" %}

{% block head_additions %}
    {% include "fileupload/picture_form_head_additions.html" %}
{% endblock %}

{% block contents_top %}
{% endblock %}

{% block column1 %}
    <h2>Submit {{crds_filetype|capfirst}} Files</h2>
    {% include "select_files.html" %}        

    <form method="post" action="/submit/{{crds_filetype}}/" enctype="multipart/form-data"
        onsubmit="return validate_and_confirm(this);" > {% csrf_token %}

        <input type='hidden' name='observatory' value='{{observatory}}' />

        {% if crds_filetype == "reference" %}
            {% include "comparison_context.html" %}
        {% endif %}
        
        <h3>Change Level:
        <select name='change_level' value="{{change_level}}">
            <option>SEVERE</option>
            <option>MEDIUM</option>
            <option>TRIVIAL</option>
        </select>
        </h3>

        <h3>Creator:
        <input type='text' name='creator' id='creator' size="40" value="{{creator}}">
        </h3>

        <h3>Description:</h3>
        <textarea name='description' id='description' rows="4" cols="50">{{description}}</textarea>

        <h3>Auto-Rename:
        {% include "auto_rename_input.html" %}
        </h3>
        
        {% if crds_filetype == "mapping" %}
            <h3>Generate Contexts:
                <input name='generate_contexts' type='checkbox' value='on' checked >
            </h3>
        {% endif %}
        
      <p></p>
      <input type="submit" value="Submit Files">
    </form>
    
    {% include "validate_and_confirm.html" %}
    
{% endblock column1 %}


{% block help %}

<p><b>Submit {{crds_filetype|capfirst}} Files</b> permanently enters files into CRDS and the 
archive.

{% include "select_files_help.html" %}

{% if crds_filetype == "reference" %}
{% include "comparison_context_help.html" %}
{% endif %}

<p><p><b>Change Level</b> The degree to which the new files are expected to 
impact science results.

<p><p><b>Description</b> information about what's new in this file and what
the expected impacts are.

<p><p><b>Creator</b> author of the contents or changes to the file,  not 
necessarily the submitter.  The submitter is known based on login information.

{% include "auto_rename_help.html" %}

<p><p><b>Generate Contexts</b> Automatically generate a new .pmap and .imap 
utilizing submitted rmaps.  Ignored for submitted .pmaps or .imaps.

<p><p><b>NOTE:</b> All submitted files must pass certification before they will
be accepted by CRDS.  All references referred to by a mapping must be submitted
before the mapping will be accepted.

{% endblock help %}


