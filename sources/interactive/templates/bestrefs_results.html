{% extends "base.html" %}

{% load stdtags %}

{% block column1 %}
    <h2>Best References {{dataset_name|grey}}</h2>
    <h3>Input Parameters</h3>
    <table width="100%">
    {% for key, val in header_items %}
      <tr>
        <td class="label" width="30%">{{key}}:</td>
        <td class="value" width="60%">{{val}}</td>
      </tr>
    {% endfor %}
    </table>
    
{% endblock column1 %}

{% block column2 %}
    <br/>
    <br/>
    <br/>
    <h3>Recommended Files</h3>
    <table width="100%">    
      {% for reftype, fname in bestrefs_items %}
        <tr>
          <td class="label" width="30%">{{reftype}}:</td>
          {% if ".fits" in fname %}
            <td width="20%">
                 {{fname|browse}}
            </td>
            <td width="20%">
                 {% if observatory == "hst" %}   {# filtering weak! #}
                    <a href='{{fname|download_url:"hst"}}'>download</a>
                 {% else %}
                    <a href='{{fname|download_url:"jwst"}}'>download</a>            
                 {% endif %}
            </td>
          {% else %}
            <td class="error" width="60%">{{fname}}</td>
          {% endif %}
        </tr>
      {% endfor %}
    </table>    

    <br/><br/>
    <p>CRDS knows little about which reference types apply to
    which modes... it returns a recommendation or error for all reference types
    supported by all modes of the instrument.
    
{% endblock column2 %}

