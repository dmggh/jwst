{% extends "base.html" %}

{% load stdtags %}

{% block contents %}

    <h2>Operational Context History</h2>

        {% include "diff_col_header.html" %}
        
        <table border="1">
            <tr>
                <th width="10%" align="center">start date</th>
                <th width="10%" align="center">context</th>
                <th width="10%" align="center">status</th>
                <th width="50%" align="center">description</th>
                <th width="5%" align="center"><input type='submit' id="diff_button" value="diff" /></th>
            </tr>
            {% for hist in history_tuples %}    {# ( history_rec,  context_fileblob) #}
                <tr>
                    <td align="center">{{hist.0.start_date|seconds}}</td>
                    <td align="center"><a href="/context_table/{{hist.0.context}}">{{hist.0.context}}</a></span></td>
                    <td align="center" class="{{hist.1.status_class}}">{{hist.1.status}}</span></td>
                    <td align="left">{{hist.0.description}}</td>
                    <td align="center">
                        <input type="checkbox" name="diff_file" value="{{hist.0.context}}" />
                        {% if is_authenticated and user|in_group:"edit_context_history" %}
                            <a href="/edit_context_history/{{hist.0.id}}/{{hist.0.context}}">*</a>  {#  style="text-decoration:none" #}
                        {% endif %}
                    </td>
                </tr>
            {% endfor %}
            
        </table>
        
        {% include "diff_col_trailer.html" %}

{% endblock contents %}
